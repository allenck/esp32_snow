<head>
	<link href="https://cdn.bootcss.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdn.bootcss.com/tether/1.4.0/js/tether.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"></script>
	<link href="https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
	<title>IOT ENGINEER</title>
</head>
<body>
	<div class="container">
		<h1 class="display-5">SOFT KEY</h1>
    <div style="text-align:center">
			<img src="./static/logo.png" class="img-fluid img-thumbnail" alt="...">
			<img src="./static/esp32.png" class="img-fluid img-thumbnail" alt="...">
		</div>
     <p style="font-size: 24px;height: 32px;margin: 20px" id="content">setting</p>
    <div class="row justify-content-md-center" >
			<form id="station_form">
			  <input input type="text" id="station" name="station" value="http://dg-rbb-http-dus-dtag-cdn.cast.addradio.de/rbb/antennebrandenburg/live/mp3/128/stream.mp3" 
					placeholder="enter staion URL" /><br>
					<button type="submit">Set Station</button>
			</form>
			<button type="button" class="btn  btn-lg fa fa-volume-up fa-2x" aria-hidden="true" id="volumeup" style="margin: 20px"></button>
      <button type="button" class="btn btn-lg fa fa-volume-down fa-2x" aria-hidden="true" id="volumedown" style="margin: 20px"></button>
      <button type="button" class="btn btn-lg fa fa-volume-off fa-2x" aria-hidden="true" id="volumeoff" style="margin: 20px"></button>
    </div> 
 	</div>
</body>
<script type="application/javascript">
      $("#volumeoff").click(function(event) {
                
                
                $.ajax({
                    type: 'POST',
                   data: "{\"cmd\":512}",
                     url: "/api/command/",
                    dataType: "json"
                }).done(function (data) {
                   console.log(data.err) ;
                   if(data.err==0){
                    console.log("volumeoff start")
                    }
                });
            });
       $("#volumeup").click(function(event) {
                
                
                $.ajax({
                    type: 'POST',
                   data: "{\"cmd\":1024}",
                     url: "/api/command/",
                    dataType: "json"
                }).done(function (data) {
                   console.log(data.err) ;
                   if(data.err==0){
                    console.log("volumeup start")
                    }
                });
            });
      $("#volumedown").click(function(event) {         
                $.ajax({
                    type: 'POST',
                   data: "{\"cmd\":2048}",
                     url: "/api/command/",
                    dataType: "json"
                }).done(function (data) {
                   console.log(data.err) ;
                   if(data.err==0){
                    console.log("volumedown start")
                    }
                });
            });

			(function($){
        function processForm( e ){
            $.ajax({
                url: "/api/setStation/",
                dataType: "json",
                type: 'POST',
                contentType: 'application/json',
    						data: JSON.stringify( { "station": $('#station').val() } ),
    						processData: false,
    						success: function( data, textStatus, jQxhr ){
        				$('#response pre').html( JSON.stringify( data ) );
							},
							error: function( jqXhr, textStatus, errorThrown ){
									console.log( errorThrown );
							}
            });

            e.preventDefault();
        }

        $('#station_form').submit( processForm );
    })(jQuery)
</script>
